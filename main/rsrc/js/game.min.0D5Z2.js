/**
 * 
 * Overwatch Game scripts.
 *
 * @copyright       Â©2014 Blizzard Entertainment, Inc. All rights reserved.
 */
 "use strict";
$(function(){Maps.init(),GamePlayVideo.init({$videoWraps:$(".section.game .gameplay-video-wrapper .video-wrap")})});
var Maps={section:null,navItem:null,mapPanel:null,mapList:null,mapItem:null,init:function(){function a(){Maps.scrollTo(window.location.hash.slice(1))}Maps.section=$(".map.section"),Maps.controls=$(".map-controls"),Maps.navItem=$(".map-nav-item"),Maps.navItemDesc=$(".map-nav-description"),Maps.mapItem=$(".map"),Maps.getMap(),Maps.navItem.on("click",function(){var a=$(this).attr("data-map-type"),t=$(".map-info[data-map-type='"+a+"']").find(".map-list").find(".map-name").first().attr("data-map");Maps.updatePanel(a,t)}),Maps.mapItem.on("click",function(){Maps.updatePanel($(this).closest(".map-info").attr("data-map-type"),$(this).attr("data-map"))}),setTimeout(a,500),$(window).on("hashchange",function(){a()}),$(window).on("popstate",function(){a()})},updatePanel:function(a,t){$(".map-nav-item").removeClass("active"),$(".map-nav-description").removeClass("active"),$(".map-info").removeClass("active"),$(".map-screen").removeClass("active"),$(".map-nav-item[data-map-type='"+a+"']").addClass("active"),$(".map-nav-description[data-map-type='"+a+"']").addClass("active"),$(".map-info[data-map-type='"+a+"']").addClass("active"),$(".map-name[data-map='"+t+"']").addClass("active"),$(".map-screen[data-map="+t+"]").addClass("active"),Maps.getMap()},getMap:function(){var a=$(".map-screen.active").attr("data-map"),t=$(".map-screen.active").attr("data-map-type");Maps.mapItem.removeClass("active"),$(".map-info[data-map-type='"+t+"']").find(".map[data-map='"+a+"']").addClass("active")},scrollTo:function(a){var t=Maps.mapItem.filter(["[data-map=",a,"]"].join(""));t[0]&&$("html, body").animate({scrollTop:$("#objectives").offset().top},200,function(){t.click()})}},GamePlayVideo={init:function(a){var t=a.$videoWraps,e=$(".gameplay-video-wrapper.desktop-only .video-wrap");e.on("click",function(){Lightbox.loadEmbed([{title:$(this).data("title"),src:$(this).data("yt-id"),contentClass:$(this).id,type:"youtube"}])});var i=$(".section.game .yt-container .video-wrap");i.each(function(a,t){YtEmbedder.load($(t))}),"ie8"===Core.browser.full&&Utilities.VideoPoster(t)}};